import{_ as w,a as h}from"./index.41f2f3fd.js";import{h as y}from"./http.72f31f4c.js";import{E as i,j as b,u as F,s as x,v as B,r as c,x as C,y as L,o as k,a as D,h as u,w as l,p as I,i as j,g as a,d,e as p}from"./vendor.7d5eee97.js";function E(t){return y({url:"/lejuAdmin/index/login",method:"post","Content-Type":"application/json;charset=UTF-8",data:t})}const S=async t=>{let n={username:"\u8D26\u53F7",password:"\u5BC6\u7801"};try{Object.keys(n).forEach(e=>{if(!t[e])throw n[e]})}catch(e){return i({message:`\u8BF7\u8F93\u5165${e}`,type:"warning"}),!1}let s=await E(t);if(s.status===200&&s.data.code===2e4){const e=s.data.data;return window.sessionStorage.setItem("token",e.token),window.sessionStorage.setItem("userInfo",JSON.stringify(e.userInfo)),i({message:"\u767B\u5F55\u6210\u529F\uFF0C\u6B63\u5728\u8DF3\u8F6C\u4E2D...",type:"success"}),!0}else return i({message:"\u767B\u5F55\u5931\u8D25",type:"warning"}),!1};const T=t=>(I("data-v-f6e9bbf6"),t=t(),j(),t),U={class:"content","element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255,255,255,.3)"},N=T(()=>d("div",{class:"Logo"},[d("img",{src:h,alt:""}),d("span",null,"LLYC")],-1)),O=p("\u8D26\u53F7"),R=p("\u5BC6\u7801"),V={class:"button"},$=p("\u767B\u5F55"),P=b({setup(t){let n=F();const s=x(!1),e=B({username:"admin",password:"123456"}),m=async()=>{s.value=!0,await S(e)&&setTimeout(()=>{s.value=!1,n.push({path:"/"})},2e3)};return(A,o)=>{const _=c("el-input"),f=c("el-button"),g=c("el-card"),v=C("loading");return L((k(),D("div",U,[N,u(g,{class:"box-card"},{default:l(()=>[u(_,{clearable:"","model-value":a(e).username,"onUpdate:model-value":o[0]||(o[0]=r=>a(e).username=r),placeholder:"Please account"},{prepend:l(()=>[O]),_:1},8,["model-value"]),u(_,{clearable:"",type:"password",style:{margin:"20px 0"},"model-value":a(e).password,"onUpdate:model-value":o[1]||(o[1]=r=>a(e).password=r),placeholder:"Please password"},{prepend:l(()=>[R]),_:1},8,["model-value"]),d("div",V,[u(f,{type:"primary",onClick:o[2]||(o[2]=r=>m(a(e)))},{default:l(()=>[$]),_:1})])]),_:1})],512)),[[v,s.value]])}}});var q=w(P,[["__scopeId","data-v-f6e9bbf6"]]);export{q as default};
